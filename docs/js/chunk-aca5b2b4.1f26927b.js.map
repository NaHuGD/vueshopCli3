{"version":3,"sources":["webpack:///./src/views/user/Confirm.vue?4f42","webpack:///src/views/user/Confirm.vue","webpack:///./src/views/user/Confirm.vue?da86","webpack:///./src/views/user/Confirm.vue","webpack:///./src/views/user/Confirm.vue?bd56"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","preventDefault","paying","staticClass","_v","_s","order","user","name","nowDate","_m","_l","item","key","product","title","qty","_f","price","tel","address","email","total","orderId","class","is_paid","_e","isAlert","num","staticRenderFns","components","CheckSchedule","data","payingCheck","isIcon","methods","getOrder","vm","$store","dispatch","$http","get","url","then","response","post","success","document","querySelector","classList","add","setTimeout","countFn","count","innerHTML","clearInterval","i","computed","created","$route","params","mounted","style","component"],"mappings":"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","file":"js/chunk-aca5b2b4.1f26927b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('CheckSchedule'),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.paying($event)}}},[_c('div',{staticClass:\"mx-auto my-4 container\"},[_c('div',{staticClass:\"Confirm\"},[_c('div',{staticClass:\"row p-2 py-md-4\"},[_c('span',{staticClass:\"col-12 col-md-6 pb-2 pb-md-0\"},[_c('p',[_vm._v(\"訂購人:\"+_vm._s(_vm.order.user.name))])]),_c('span',{staticClass:\"col-12 col-md-6 text-md-right\"},[_c('p',[_vm._v(\"訂購日期:\"+_vm._s(_vm.order.user.nowDate))])])]),_c('div',{staticClass:\"product py-2\"},[_vm._m(0),_vm._l((_vm.order.products),function(item,key){return _c('div',{key:key,staticClass:\"row text-center p-2\"},[_c('p',{staticClass:\"col text-left\"},[_vm._v(_vm._s(item.product.title))]),_c('p',{staticClass:\"col\"},[_vm._v(_vm._s(item.qty)+\"/件\")]),_c('p',{staticClass:\"col text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.price)))])])})],2),_c('div',{staticClass:\"info py-2\"},[_c('div',{staticClass:\"row text-center p-2\"},[_c('p',{staticClass:\"col text-left\"},[_vm._v(\"收件人姓名 :\")]),_c('p',{staticClass:\"col mobNone\"}),_c('p',{staticClass:\"col text-right\"},[_vm._v(_vm._s(_vm.order.user.name))])]),_c('div',{staticClass:\"row text-center p-2\"},[_c('p',{staticClass:\"col text-left\"},[_vm._v(\"收件人電話 :\")]),_c('p',{staticClass:\"col mobNone\"}),_c('p',{staticClass:\"col text-right\"},[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('div',{staticClass:\"row text-center p-2\"},[_c('p',{staticClass:\"col text-left\"},[_vm._v(\"收件地址 :\")]),_c('p',{staticClass:\"col mobNone\"}),_c('p',{staticClass:\"col text-right\"},[_vm._v(_vm._s(_vm.order.user.address))])]),_c('div',{staticClass:\"row text-center p-2\"},[_c('p',{staticClass:\"col text-left\"},[_vm._v(\"收件人信箱 :\")]),_c('p',{staticClass:\"col mobNone\"}),_c('p',{staticClass:\"col text-right\"},[_vm._v(_vm._s(_vm.order.user.email))])])]),_c('div',{staticClass:\"total py-2\"},[_c('div',{staticClass:\"row text-center p-2\"},[_c('p',{staticClass:\"col text-left\"},[_vm._v(\"總價\")]),_c('p',{staticClass:\"col mobNone\"}),_c('p',{staticClass:\"col text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.order.total)))])]),_vm._m(1),_c('div',{staticClass:\"row text-center p-2\"},[_c('p',{staticClass:\"col text-left\"},[_vm._v(\"小計\")]),_c('p',{staticClass:\"col mobNone\"}),_c('p',{staticClass:\"col text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.order.total + 80)))])])]),_c('div',{staticClass:\"pt-3\"},[_c('p',{staticClass:\"d-inline\"},[_vm._v(\"訂單編號 :\")]),_c('p',{staticClass:\"d-inline-block px-2\"},[_vm._v(_vm._s(_vm.orderId))])]),_c('div',{staticClass:\"pt-2\",class:{'text-danger':_vm.order.is_paid===false,'text-success':_vm.order.is_paid}},[_c('p',{staticClass:\"d-inline\"},[_vm._v(\"付款狀態 :\")]),(_vm.order.is_paid)?_c('p',{staticClass:\"d-inline px-2\"},[_vm._v(\"完成付款\")]):_c('p',{staticClass:\"d-inline px-2\"},[_vm._v(\"尚未付款\")])]),_c('button',{staticClass:\"paying\",class:{'active':_vm.order.is_paid===false,'active':_vm.order.is_paid}},[_c('span',{staticClass:\"box\"},[(_vm.order.is_paid)?_c('i',{staticClass:\"fa fa-check\"}):_vm._e()]),(_vm.order.is_paid===true)?_c('p',[_vm._v(\"結帳完成\")]):_c('p',[_vm._v(\"點擊付款\")])])])])]),(_vm.isAlert === true)?_c('div',{staticClass:\"checkOutAlert\",on:{\"click\":function($event){$event.preventDefault();_vm.isAlert = false}}},[_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"text-success\"},[(_vm.isIcon)?_c('i',{staticClass:\"fa fa-check-circle-o\"}):_c('i',{staticClass:\"fa fa-spinner fa-spin text-dark\"})]),_c('p',[_vm._v(\"感謝您購買凱力的產品,我們將儘速為您出貨\")]),_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.num)+\"%\")]),_c('router-link',{staticClass:\"d-block\",attrs:{\"tag\":\"button\",\"to\":\"/shop/all\"}},[_vm._v(\"繼續購物\")]),_c('button',{staticClass:\"d-block\",on:{\"click\":function($event){$event.preventDefault();_vm.isAlert = false}}},[_vm._v(\"查看清單\")])],1)]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row text-center p-2\"},[_c('p',{staticClass:\"col text-secondary text-left\"},[_vm._v(\"項目\")]),_c('p',{staticClass:\"col text-secondary\"},[_vm._v(\"數量\")]),_c('p',{staticClass:\"col text-secondary text-right\"},[_vm._v(\"單價\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row text-center p-2\"},[_c('p',{staticClass:\"col text-left\"},[_vm._v(\"運費\")]),_c('p',{staticClass:\"col mobNone\"}),_c('p',{staticClass:\"col text-right\"},[_vm._v(\"$80\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <CheckSchedule />\r\n    <form @submit.prevent=\"paying\">\r\n      <div class=\"mx-auto my-4 container\">\r\n        <div class=\"Confirm\">\r\n          <div class=\"row p-2 py-md-4\">\r\n            <span class=\"col-12 col-md-6 pb-2 pb-md-0\">\r\n              <p>訂購人:{{order.user.name}}</p>\r\n            </span>\r\n            <span class=\"col-12 col-md-6 text-md-right\">\r\n              <p>訂購日期:{{order.user.nowDate}}</p>\r\n            </span>\r\n          </div>\r\n          <div class=\"product py-2\">\r\n            <div class=\"row text-center p-2\">\r\n              <p class=\"col text-secondary text-left\">項目</p>\r\n              <p class=\"col text-secondary\">數量</p>\r\n              <p class=\"col text-secondary text-right\">單價</p>\r\n            </div>\r\n            <div class=\"row text-center p-2\" v-for=\"(item,key) in order.products\" :key=\"key\">\r\n              <p class=\"col text-left\">{{item.product.title}}</p>\r\n              <p class=\"col\">{{item.qty}}/件</p>\r\n              <p class=\"col text-right\">{{item.product.price | currency}}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"info py-2\">\r\n            <div class=\"row text-center p-2\">\r\n              <p class=\"col text-left\">收件人姓名 :</p>\r\n              <p class=\"col mobNone\"></p>\r\n              <p class=\"col text-right\">{{order.user.name}}</p>\r\n            </div>\r\n            <div class=\"row text-center p-2\">\r\n              <p class=\"col text-left\">收件人電話 :</p>\r\n              <p class=\"col mobNone\"></p>\r\n              <p class=\"col text-right\">{{order.user.tel}}</p>\r\n            </div>\r\n            <div class=\"row text-center p-2\">\r\n              <p class=\"col text-left\">收件地址 :</p>\r\n              <p class=\"col mobNone\"></p>\r\n              <p class=\"col text-right\">{{order.user.address}}</p>\r\n            </div>\r\n            <div class=\"row text-center p-2\">\r\n              <p class=\"col text-left\">收件人信箱 :</p>\r\n              <p class=\"col mobNone\"></p>\r\n              <p class=\"col text-right\">{{order.user.email}}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"total py-2\">\r\n            <div class=\"row text-center p-2\">\r\n              <p class=\"col text-left\">總價</p>\r\n              <p class=\"col mobNone\"></p>\r\n              <p class=\"col text-right\">{{order.total | currency}}</p>\r\n            </div>\r\n            <div class=\"row text-center p-2\">\r\n              <p class=\"col text-left\">運費</p>\r\n              <p class=\"col mobNone\"></p>\r\n              <p class=\"col text-right\">$80</p>\r\n            </div>\r\n            <div class=\"row text-center p-2\">\r\n              <p class=\"col text-left\">小計</p>\r\n              <p class=\"col mobNone\"></p>\r\n              <p class=\"col text-right\">{{order.total + 80 | currency}}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"pt-3\">\r\n            <p class=\"d-inline\">訂單編號 :</p>\r\n            <p class=\"d-inline-block px-2\">{{orderId}}</p>\r\n          </div>\r\n          <div\r\n            class=\"pt-2\"\r\n            :class=\"{'text-danger':order.is_paid===false,'text-success':order.is_paid}\"\r\n          >\r\n            <p class=\"d-inline\">付款狀態 :</p>\r\n            <p class=\"d-inline px-2\" v-if=\"order.is_paid\">完成付款</p>\r\n            <p class=\"d-inline px-2\" v-else>尚未付款</p>\r\n          </div>\r\n          <button class=\"paying\" :class=\"{'active':order.is_paid===false,'active':order.is_paid}\">\r\n            <span class=\"box\">\r\n              <i class=\"fa fa-check\" v-if=\"order.is_paid\"></i>\r\n            </span>\r\n            <p v-if=\"order.is_paid===true\">結帳完成</p>\r\n            <p v-else>點擊付款</p>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n    <div class=\"checkOutAlert\" v-if=\"isAlert === true\" @click.prevent=\"isAlert = false\">\r\n      <div class=\"info\">\r\n        <span class=\"text-success\">\r\n          <i class=\"fa fa-check-circle-o\" v-if=\"isIcon\"></i>\r\n          <i class=\"fa fa-spinner fa-spin text-dark\" v-else></i>\r\n        </span>\r\n        <p>感謝您購買凱力的產品,我們將儘速為您出貨</p>\r\n        <span class=\"count\">{{num}}%</span>\r\n        <router-link tag=\"button\" to=\"/shop/all\" class=\"d-block\">繼續購物</router-link>\r\n        <button class=\"d-block\" @click.prevent=\"isAlert = false\">查看清單</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CheckSchedule from '@/components/user/CheckSchedule'\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n  components: {\r\n    CheckSchedule\r\n  },\r\n  data () {\r\n    return {\r\n      payingCheck: true,\r\n      isAlert: false,\r\n      isIcon: false,\r\n      num: 0,\r\n      order: {\r\n        user: {}\r\n      },\r\n      // 取得orderId\r\n      orderId: ''\r\n    }\r\n  },\r\n  methods: {\r\n    getOrder () {\r\n      // 取得訂單資料\r\n      const vm = this\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order/${vm.orderId}`\r\n      vm.$store.dispatch('updateLoading', true)\r\n      vm.$http.get(url).then(response => {\r\n        vm.order = response.data.order\r\n        vm.$store.dispatch('updateLoading', false)\r\n        vm.payingCheck = !vm.order.is_paid\r\n      })\r\n    },\r\n    paying () {\r\n      const vm = this\r\n      if (vm.payingCheck) {\r\n        const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/pay/${vm.orderId}`\r\n        vm.$store.dispatch('updateLoading', true)\r\n        vm.$http.post(url).then(response => {\r\n          if (response.data.success) {\r\n            // 付款完成時,重新取得訂單資料\r\n            vm.getOrder()\r\n          }\r\n        })\r\n        document.querySelector('.paying').classList.add('active')\r\n        vm.$store.dispatch('updateLoading', false)\r\n        vm.payingCheck = false\r\n      }\r\n      setTimeout(() => {\r\n        vm.isAlert = true\r\n        vm.countFn()\r\n      }, 1000)\r\n    },\r\n    countFn () {\r\n      const vm = this\r\n      if (vm.num === 100) {\r\n        return false\r\n      } else {\r\n        const i = setInterval(function (e) {\r\n          const count = document.querySelector('.count')\r\n          if (vm.isAlert === true) {\r\n            count.innerHTML = `${vm.num + 1}` + '%'\r\n            vm.num++\r\n            if (vm.num === 100) {\r\n              clearInterval(i)\r\n              setTimeout(function () {\r\n                count.classList.add('countStyle')\r\n                vm.isIcon = true\r\n              }, 600)\r\n            }\r\n          } else {\r\n            vm.isIcon = false\r\n            clearInterval(i)\r\n          }\r\n        }, 10)\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['isLoading'])\r\n  },\r\n  created () {\r\n    const vm = this\r\n    vm.orderId = this.$route.params.orderId\r\n    vm.getOrder()\r\n  },\r\n  mounted () {\r\n    document.querySelector('.checkOut').style = 'border:3px solid #8d3742;'\r\n    document.querySelector('.checkOut>i').style = 'color:#8d3742;'\r\n    document.querySelector('.checkOut>p').style = 'color:#8d3742;'\r\n    document.querySelector('.checkInfo').style = 'border:3px solid #8d3742;'\r\n    document.querySelector('.checkInfo>i').style = 'color:#8d3742;'\r\n    document.querySelector('.checkInfo>p').style = 'color:#8d3742;'\r\n    document\r\n      .querySelector('.checkSchedule>span')\r\n      .classList.add('scheduleConfirmAnimation')\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" secoped>\r\n@import \"@/assets/scss/helpers/breakpoint.scss\";\r\n\r\n.Confirm {\r\n  position: relative;\r\n  box-shadow: 0px 1px 3px 1px $color-bgActive;\r\n  padding: 15px;\r\n  border-radius: 8px 8px 0 0;\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  @include mobile() {\r\n    width: 100%;\r\n  }\r\n  .product,\r\n  .info,\r\n  .total {\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.3);\r\n    @include mobile() {\r\n      p {\r\n      }\r\n    }\r\n  }\r\n  .product {\r\n    border-top: 1px solid rgba(0, 0, 0, 0.3);\r\n  }\r\n  .paying {\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 0;\r\n    transform: translate(-20%, -50%);\r\n    width: 150px;\r\n    height: 40px;\r\n    background: #16111f;\r\n    color: #fff;\r\n    border-radius: 30rem;\r\n    padding: 10px;\r\n    @include mobile() {\r\n      position: static;\r\n      transform: translate(0%, 0%);\r\n      display: block;\r\n      margin: 1rem auto 0 auto;\r\n    }\r\n    .box {\r\n      transition: 2s;\r\n      background: #69666f;\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 0;\r\n      transform: translate(0%, -50%);\r\n      height: 30px;\r\n      width: 30px;\r\n      margin-left: 3px;\r\n      border-radius: 20px;\r\n      z-index: 2;\r\n      i {\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n      }\r\n    }\r\n    p {\r\n      transition: 2s;\r\n      position: absolute;\r\n      transform: translatey(-50%);\r\n      top: 50%;\r\n      left: 40%;\r\n      z-index: 1;\r\n    }\r\n    &.active {\r\n      background: green;\r\n      .box {\r\n        transform: translate(0%, -50%) rotate(2turn);\r\n        background: #fff;\r\n        position: absolute;\r\n        left: calc(100% - 36px);\r\n        i {\r\n          color: #150f24;\r\n        }\r\n      }\r\n      p {\r\n        left: 20%;\r\n      }\r\n    }\r\n  }\r\n}\r\n.checkOutAlert {\r\n  z-index: 510;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  background: $color-bgActive;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  & > .info {\r\n    box-shadow: 0px 1px 3px 1px $color-bgActive;\r\n    border-radius: 20px;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    max-width: 360px;\r\n    width: 100%;\r\n    padding: 15px 0;\r\n    background: #fff;\r\n    @include mobile() {\r\n      max-width: 300px;\r\n    }\r\n    & > span:nth-child(1) {\r\n      padding: 10px 30px;\r\n      font-size: 5rem;\r\n      text-align: center;\r\n      display: block;\r\n    }\r\n    & > p:nth-child(2) {\r\n      text-align: center;\r\n      padding: 10px 0;\r\n    }\r\n    & > .count {\r\n      display: block;\r\n      text-align: center;\r\n      color: $color-darkRed;\r\n      font-size: 3rem;\r\n      padding: 5px 0;\r\n      font-family: impact;\r\n    }\r\n    & > button:nth-child(4) {\r\n      margin: 20px auto 0 auto;\r\n      padding: 10px 0;\r\n      width: 90%;\r\n      background: $color-darkRed;\r\n      color: white;\r\n    }\r\n    & > button:nth-child(5) {\r\n      margin: 20px auto 0 auto;\r\n      padding: 10px 0;\r\n      width: 90%;\r\n      background: $color-darkGray;\r\n      color: white;\r\n    }\r\n  }\r\n}\r\n.countStyle {\r\n  transition: 1s;\r\n  animation-name: countStyle;\r\n  animation-iteration-count: 1;\r\n  animation-duration: 1.5s;\r\n}\r\n@keyframes countStyle {\r\n  0% {\r\n    font-size: 3rem;\r\n  }\r\n  25% {\r\n    font-size: 2rem;\r\n  }\r\n  85% {\r\n    font-size: 4rem;\r\n  }\r\n  100% {\r\n    font-size: 3rem;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Confirm.vue?vue&type=template&id=13500832&\"\nimport script from \"./Confirm.vue?vue&type=script&lang=js&\"\nexport * from \"./Confirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Confirm.vue?vue&type=style&index=0&lang=scss&secoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=style&index=0&lang=scss&secoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=style&index=0&lang=scss&secoped=true&\""],"sourceRoot":""}