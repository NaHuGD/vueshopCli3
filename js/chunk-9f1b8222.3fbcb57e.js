(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f1b8222"],{"4f80":function(e,t,a){},"7cec":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("CheckSchedule"),a("div",{staticClass:"container"},[a("div",{staticClass:"checkInfoMain row"},[a("div",{staticClass:"col-12 col-md-5 pb-3 pl-md-0"},[a("div",{staticClass:"mainleft"},[a("p",{staticClass:"h4 py-3"},[e._v("購物清單：")]),e._l(e.cart.carts,(function(t,r){return a("div",{key:r},[t.product?a("div",{staticClass:"py-2 row bagInfo"},[a("img",{staticClass:"pr-md-0 col-5",attrs:{src:t.product.imageUrl,alt:t.product.title}}),a("div",{staticClass:"d-inline col pr-md-0"},[a("p",{staticClass:"pb-1"},[e._v(e._s(t.product.title))]),a("p",{staticClass:"pb-1"},[e._v(e._s(t.size))]),a("p",{staticClass:"pb-1"},[e._v("價格:"+e._s(e._f("currency")(t.product.price)))]),a("p",{staticClass:"pb-1"},[e._v("數量: "+e._s(t.qty))])])]):e._e()])})),a("div",{staticClass:"h6 total"},[e._v("總價(含運):"+e._s(e._f("currency")(e.cart.total+80)))])],2)]),a("form",{staticClass:"col-12 col-md",on:{submit:function(t){return t.preventDefault(),e.createOrder(t)}}},[a("div",{staticClass:"mainInfo"},[a("h4",{staticClass:"h4 py-3"},[e._v("訂購資料")]),a("div",[a("label",{staticClass:"py-3",attrs:{for:"userName"}},[e._v("收件人姓名*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"col form-control",class:{"is-invalid":e.errors.has("name"),inputBorder:!e.errors.has("name")},attrs:{placeholder:"姓名",type:"text",id:"userName",name:"name"},domProps:{value:e.form.user.name},on:{input:function(t){t.target.composing||e.$set(e.form.user,"name",t.target.value)}}}),e.errors.has("name")?a("span",{staticClass:"text-danger mt-2 d-block"},[e._v("請輸入姓名*")]):e._e()]),a("div",[a("label",{staticClass:"py-3",attrs:{for:"userPhone"}},[e._v("收件人手機*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required|digits:10",expression:"'required|digits:10'"}],staticClass:"col form-control",class:{"is-invalid":e.errors.has("tel"),inputBorder:!e.errors.has("tel")},attrs:{placeholder:"號碼",type:"tel",onkeyup:"value=value.replace(/[^\\d]/g,'') ",id:"userPhone",name:"tel"},domProps:{value:e.form.user.tel},on:{input:function(t){t.target.composing||e.$set(e.form.user,"tel",t.target.value)}}}),e.errors.has("tel")?a("span",{staticClass:"text-danger mt-2 d-block"},[e._v("請輸入手機10碼")]):e._e()]),a("div",[a("label",{staticClass:"py-3",attrs:{for:"userEmail"}},[e._v("聯絡信箱*")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("email"),inputBorder:!e.errors.has("email")},attrs:{placeholder:"Email",type:"email",id:"userEmail",name:"email"}}),e.errors.has("email")?a("span",{staticClass:"text-danger mt-2 d-block"},[e._v("請輸入正確格式Email")]):e._e()]),a("div",[a("label",{staticClass:"py-3"},[e._v("運送方式*")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.user.ship,expression:"form.user.ship"}],staticClass:"form-control",attrs:{id:"ship"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.user,"ship",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"home"}},[e._v("宅配到府")]),a("option",{attrs:{value:"fm"}},[e._v("全家門市取貨服務")]),a("option",{attrs:{value:"711"}},[e._v("7-11門市取貨服務")])])]),a("div",["home"===e.form.user.ship?a("div",[a("label",{staticClass:"py-3",attrs:{for:"address"}},[e._v("收件人地址*")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("address"),inputBorder:!e.errors.has("address")},attrs:{id:"address",name:"address",type:"text",placeholder:"請輸入收件人地址"},domProps:{value:e.form.user.address},on:{input:function(t){t.target.composing||e.$set(e.form.user,"address",t.target.value)}}})]):e._e(),"fm"===e.form.user.ship?a("div",[a("label",{staticClass:"py-3",attrs:{for:"address"}},[e._v("全家超商門市*")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("address"),inputBorder:!e.errors.has("address")},attrs:{id:"address",name:"address",type:"text",placeholder:"全家門市地址"},domProps:{value:e.form.user.address},on:{input:function(t){t.target.composing||e.$set(e.form.user,"address",t.target.value)}}})]):e._e(),"711"===e.form.user.ship?a("div",[a("label",{staticClass:"py-3",attrs:{for:"address"}},[e._v("711超商門市*")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("address"),inputBorder:!e.errors.has("address")},attrs:{id:"address",name:"address",type:"text",placeholder:"711門市地址"},domProps:{value:e.form.user.address},on:{input:function(t){t.target.composing||e.$set(e.form.user,"address",t.target.value)}}})]):e._e(),e.errors.has("address")?a("span",{staticClass:"text-danger mt-2 d-block"},[e._v("請輸入正確地址")]):e._e()]),a("div",[a("label",{staticClass:"py-3"},[e._v("付款方式*")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.user.payMethod,expression:"form.user.payMethod"}],staticClass:"form-control",attrs:{id:"payMethod"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.user,"payMethod",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"delivery"}},[e._v("貨到付款")]),a("option",{attrs:{value:"credit"}},[e._v("信用卡付款")])])]),"credit"===e.form.user.payMethod?a("div",[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"py-2"},[a("label",{staticClass:"pb-2 col px-0",attrs:{for:""}},[e._v("信用卡卡號*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.card.number,expression:"form.user.card.number"}],staticClass:"inputBorder col",attrs:{type:"text",placeholder:"請輸入十六位數值之信用卡卡號",name:""},domProps:{value:e.form.user.card.number},on:{focus:function(t){t.preventDefault(),e.isFlipped=!0},input:function(t){t.target.composing||e.$set(e.form.user.card,"number",t.target.value)}}})]),a("div",{staticClass:"py-2"},[a("label",{staticClass:"pb-2 col px-0",attrs:{for:""}},[e._v("卡片到期日*")]),a("div",{staticClass:"row px-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.user.card.date.month,expression:"form.user.card.date.month"}],staticClass:"form-control col mr-1",attrs:{id:"cardMonth"},on:{focus:function(t){t.preventDefault(),e.isFlipped=!0},change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.user.card.date,"month",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("月份")]),a("option",{attrs:{value:"01"}},[e._v("一月")]),a("option",{attrs:{value:"02"}},[e._v("二月")]),a("option",{attrs:{value:"03"}},[e._v("三月")]),a("option",{attrs:{value:"04"}},[e._v("四月")]),a("option",{attrs:{value:"05"}},[e._v("五月")]),a("option",{attrs:{value:"06"}},[e._v("六月")]),a("option",{attrs:{value:"07"}},[e._v("七月")]),a("option",{attrs:{value:"08"}},[e._v("八月")]),a("option",{attrs:{value:"09"}},[e._v("九月")]),a("option",{attrs:{value:"10"}},[e._v("十月")]),a("option",{attrs:{value:"11"}},[e._v("十一月")]),a("option",{attrs:{value:"12"}},[e._v("十二月")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.user.card.date.year,expression:"form.user.card.date.year"}],staticClass:"form-control col",attrs:{id:"cardYear"},on:{focus:function(t){t.preventDefault(),e.isFlipped=!0},change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.user.card.date,"year",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("年分")]),e._l(15,(function(t,r){return a("option",{key:r,domProps:{value:2018+t}},[e._v(e._s(2018+t))])}))],2)])]),a("div",{staticClass:"py-2"},[a("label",{staticClass:"pb-2 col px-0",attrs:{for:""}},[e._v("卡片檢查碼*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.card.ccv,expression:"form.user.card.ccv"}],staticClass:"inputBorder col",attrs:{type:"text",placeholder:"卡片背面後三碼",maxlength:"3"},domProps:{value:e.form.user.card.ccv},on:{focus:function(t){t.preventDefault(),e.isFlipped=!1},input:function(t){t.target.composing||e.$set(e.form.user.card,"ccv",t.target.value)}}})])]),a("div",{staticClass:"col-12"},[a("div",{staticClass:"indexCard",class:{rotateBack:!1===e.isFlipped}},[a("div",{staticClass:"cardFront"},[a("div",{staticClass:"number"},[e._v(e._s(e.form.user.card.number))]),a("div",{staticClass:"date"},[e._v(e._s(e.form.user.card.date.month)+"/"+e._s(e.form.user.card.date.year))]),a("img",{staticClass:"pt-3",attrs:{src:e.card,alt:"信用卡"}})]),a("div",{staticClass:"cardBack"},[a("div",{staticClass:"ccv"},[e._v(e._s(e.form.user.card.ccv))]),a("img",{staticClass:"pt-3",attrs:{src:e.cardBg,alt:"信用卡"}})])])])])]):e._e()]),e._m(0),a("button",{staticClass:"CheckOut mb-4"},[e._v("前往結帳")])])])])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mainInfo my-3 col-12 col-md"},[a("label",{staticClass:"py-3",attrs:{for:"comment"}},[e._v("備註")]),a("textarea",{staticClass:"col-12 mt-1",attrs:{id:"comment"}})])}],o=(a("a4d3"),a("99af"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),i=a("9352"),l=a.p+"img/card_bg.7745a583.png",c=a.p+"img/card_back_bg.cd4bf13c.png",n=a("2f62");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={components:{CheckSchedule:i["a"]},data:function(){return{card:l,cardBg:c,isFlipped:!0,form:{user:{name:"",tel:"",email:"",ship:"home",address:"",payMethod:"delivery",card:{number:"1234-5678-9012-3456",date:{month:"",year:""},ccv:"556"},nowDate:""},message:""}}},methods:u({},Object(n["b"])(["getCart"]),{createOrder:function(){var e=this,t="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/order"),a=e.form,r=new Date,s=r.getFullYear(),o=r.getMonth(),i=r.getDate();e.form.user.nowDate="".concat(s,"/").concat(o+1,"/").concat(i),e.$store.dispatch("updateLoading",!0),e.$validator.validate().then((function(r){r?e.$http.post(t,{data:a}).then((function(t){t.data.success?e.$router.push("/confirm/".concat(t.data.orderId)):alert(t.data.message),e.$store.dispatch("updateLoading",!1)})):(window.scrollTo({top:0,behavior:"smooth"}),e.$store.dispatch("updateLoading",!1))}))}}),computed:u({},Object(n["c"])(["isLoading","cart"])),created:function(){this.getCart()},mounted:function(){document.querySelector(".checkInfo").style="border:3px solid #8d3742",document.querySelector(".checkInfo>i").style="color:#8d3742",document.querySelector(".checkInfo>p").style="color:#8d3742",document.querySelector(".checkSchedule>span").classList.add("scheduleInfoAnimation")}},p=m,v=(a("9ab4"),a("2877")),f=Object(v["a"])(p,r,s,!1,null,null,null);t["default"]=f.exports},"9ab4":function(e,t,a){"use strict";var r=a("4f80"),s=a.n(r);s.a}}]);
//# sourceMappingURL=chunk-9f1b8222.3fbcb57e.js.map