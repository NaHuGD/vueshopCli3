(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e5da40a"],{"0fd1":function(t,e,c){"use strict";e["a"]=c.p+"img/barcode.eeb8dcfa.jpg"},"3cf0":function(t,e,c){"use strict";var s=c("adde"),a=c.n(s);a.a},"752c":function(t,e,c){"use strict";c.r(e);var s=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",[c("CheckSchedule"),c("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t.cart.carts.length>0?c("div",{staticClass:"container mt-3"},[c("div",{staticClass:"checkProduct main row mb-3 mb-sm-5"},[c("div",{staticClass:"col-md-8 p-0 pr-md-3"},[t._m(0),t._l(t.cart.carts,(function(e,s){return c("div",{key:s,staticClass:"bagInfo text-center",class:{sale:t.couponSuccess}},[c("swiper",{attrs:{options:t.swiperOption}},[c("swiper-slide",[e.product?c("div",{staticClass:"row align-items-center"},[c("div",{staticClass:"col"},[c("img",{attrs:{src:e.product.imageUrl,alt:e.product.title}}),c("p",{staticClass:"text-left"},[t._v(t._s(e.product.title))])]),c("div",{staticClass:"col"},[t._v(t._s(e.size))]),c("div",{staticClass:"col"},[c("select",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],on:{change:[function(c){var s=Array.prototype.filter.call(c.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"qty",c.target.multiple?s:s[0])},function(c){return c.preventDefault(),t.changeCartFn(e.id,e.product.id,e.qty,e.size)}]}},t._l(e.qty,(function(e){return c("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),0)]),c("div",{staticClass:"col"},[t._v(t._s(t._f("currency")(e.product.price)))]),!1===t.slideDeleteFn?c("div",{staticClass:"col cartDelete",on:{click:function(c){return c.preventDefault(),t.cartItemDelete(e)}}},[c("button",[c("i",{staticClass:"fa fa-times"})])]):t._e()]):t._e()]),t.slideDeleteFn?c("swiper-slide",{staticClass:"swiperDelete"},[c("div",{staticClass:"cartDelete",on:{click:function(c){return c.preventDefault(),t.cartItemDelete(e)}}},[c("button",[c("i",{staticClass:"fa fa-times"})])])]):t._e()],1)],1)}))],2),c("div",{staticClass:"priceInfo col-md-4 py-3"},[t._m(1),c("table",{staticClass:"w-100"},[c("tr",[c("th",{staticClass:"pb-4"},[t._v("小計")]),c("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.total)))])]),t.couponSuccess?c("tr",{staticClass:"text-success"},[c("th",{staticClass:"pb-4"},[t._v("折扣價")]),c("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])]):t._e(),t._m(2)]),c("table",{staticClass:"table"},[c("tr",{staticClass:"pt-4"},[c("th",{staticClass:"pl-0"},[t._v("總計")]),c("td",{staticClass:"text-right pr-0"},[t._v(t._s(t._f("currency")(t.cart.final_total+80)))])])]),c("button",{staticClass:"goCheckOut",on:{click:function(e){return e.preventDefault(),t.goCheckOutFn(e)}}},[t._v("下一步")]),c("div",{staticClass:"coupons"},[c("div",{staticClass:"barcode mt-md-4 mt-2"},[c("img",{attrs:{src:t.barcodeImg,alt:"條碼",ondragstart:"return false;"}})]),0==t.couponSuccess?c("div",{staticClass:"row pl-2 couponsInfo"},[c("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"col-11",attrs:{type:"text",placeholder:"輸入折扣碼"},domProps:{value:t.coupon_code},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addCoupons()},input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}}),c("button",{staticClass:"applyCoupons col-1",on:{click:function(e){return e.preventDefault(),t.addCoupons()}}},[c("i",{staticClass:"fa fa-arrow-right"})])]):t._e(),1==t.couponSuccess?c("p",{staticClass:"couponCode text-center px-5"},[t._v(t._s(t.coupon_code))]):t._e(),c("span",[1==t.couponSuccess?c("p",{staticClass:"text-success text-center pt-2"},[t._v("已套用優惠券!")]):t._e(),"找不到優惠券!"==t.couponMessage|"優惠券無法使用"==t.couponMessage?c("p",{staticClass:"text-danger text-center pt-2"},[t._v("優惠券輸入錯誤")]):t._e()])])])])]):t._e(),t.cart.carts.length<1?c("div",{staticClass:"main mb-3 mx-auto py-3 col-10"},[c("router-link",{staticClass:"text-center h5 m-0 d-block",attrs:{to:"shop/all"}},[t._v("點我前往購物")])],1):t._e()],1)},a=[function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"bagTitle text-center"},[c("div",{staticClass:"row"},[c("div",{staticClass:"col"},[t._v("品名")]),c("div",{staticClass:"col"},[t._v("尺寸/口味")]),c("div",{staticClass:"col"},[t._v("數量")]),c("div",{staticClass:"col"},[t._v("單價")]),c("div",{staticClass:"col mobNone"},[t._v("刪除")])])])},function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("table",{staticClass:"title"},[c("thead",[c("th",{staticClass:"pb-5"},[t._v("訂單明細")])])])},function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("tr",[c("th",{staticClass:"pb-4"},[t._v("運費")]),c("td",{staticClass:"text-right"},[t._v("$80")])])}],o=(c("a4d3"),c("99af"),c("4de4"),c("4160"),c("e439"),c("dbb4"),c("b64b"),c("159b"),c("96cf"),c("1da1")),n=c("ade3"),r=c("9352"),i=c("0fd1"),l=c("2f62");function u(t,e){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),c.push.apply(c,s)}return c}function d(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?u(Object(c),!0).forEach((function(e){Object(n["a"])(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):u(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}var p={components:{CheckSchedule:r["a"]},data:function(){return{barcodeImg:i["a"],coupon_code:"",couponSuccess:"",couponMessage:"",status:{loadingItem:""},currentWidth:document.body.clientWidth,swiperOption:{slidesPerView:"auto",resistanceRatio:.2,on:{click:function(){this.slideTo(0)}}}}},methods:d({},Object(l["b"])(["cartItemDelete"]),{},Object(l["b"])("cartsModules",["getCart"]),{addCoupons:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/coupon"),c={code:t.coupon_code};t.$store.dispatch("updateLoading",!0),t.$http.post(e,{data:c}).then((function(e){t.couponSuccess=e.data.success,t.couponMessage=e.data.message,t.getCart(),t.$store.dispatch("updateLoading",!1)}))},goCheckOutFn:function(){var t=this;t.$router.push("/checkInfo"),window.scrollTo({top:0,behavior:"smooth"})},changeCartFn:function(t,e,c,s){var a=this;a.$store.dispatch("updateLoading",!0);var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/cart/").concat(t),n="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/cart"),r={product_id:e,qty:c,size:s};a.$http.all([a.$http.delete(o),a.$http.post(n,{data:r})]).then(a.$http.spread((function(t,e){a.getCart(),a.$store.dispatch("updateLoading",!1)})))}}),computed:d({},Object(l["c"])(["isLoading","products"]),{},Object(l["c"])("cartsModules",["cart"]),{slideDeleteFn:function(){return this.currentWidth<=480&&!0}}),created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t,e.next=3,c.getCart();case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;return(window.onresize=function(){t.currentWidth=document.body.clientWidth})}},v=p,f=(c("3cf0"),c("2877")),h=Object(f["a"])(v,s,a,!1,null,"c30ba6fe",null);e["default"]=h.exports},adde:function(t,e,c){}}]);
//# sourceMappingURL=chunk-2e5da40a.c74cf227.js.map