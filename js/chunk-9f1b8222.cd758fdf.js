(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f1b8222"],{"4f80":function(e,t,r){},"7cec":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("CheckSchedule"),r("div",{staticClass:"container"},[e.cart.carts.length>0?r("div",{staticClass:"checkInfoMain row"},[r("div",{staticClass:"col-12 col-md-5 pb-3 pl-md-0"},[r("div",{staticClass:"mainleft"},[r("p",{staticClass:"h4 py-3"},[e._v("購物清單：")]),e._l(e.cart.carts,(function(t,a){return r("div",{key:a},[t.product?r("div",{staticClass:"py-2 row bagInfo"},[r("img",{staticClass:"pr-md-0 col-5",attrs:{src:t.product.imageUrl,alt:t.product.title}}),r("div",{staticClass:"d-inline col pr-md-0"},[r("p",{staticClass:"pb-1"},[e._v(e._s(t.product.title))]),r("p",{staticClass:"pb-1"},[e._v(e._s(t.size))]),r("p",{staticClass:"pb-1"},[e._v("價格:"+e._s(e._f("currency")(t.product.price)))]),r("p",{staticClass:"pb-1"},[e._v("數量: "+e._s(t.qty))])])]):e._e()])})),r("div",{staticClass:"h6 total"},[e._v("總價(含運):"+e._s(e._f("currency")(e.cart.total+80)))])],2)]),r("form",{staticClass:"col-12 col-md",on:{submit:function(t){return t.preventDefault(),e.createOrder(t)}}},[r("div",{staticClass:"mainInfo"},[r("h4",{staticClass:"h4 py-3"},[e._v("訂購資料")]),r("div",[r("label",{staticClass:"py-3",attrs:{for:"userName"}},[e._v("收件人姓名*")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"col form-control",class:{"is-invalid":e.errors.has("name"),inputBorder:!e.errors.has("name")},attrs:{placeholder:"姓名",type:"text",id:"userName",name:"name"},domProps:{value:e.form.user.name},on:{input:function(t){t.target.composing||e.$set(e.form.user,"name",t.target.value)}}}),e.errors.has("name")?r("span",{staticClass:"text-danger mt-2 d-block"},[e._v("請輸入姓名*")]):e._e()]),r("div",[r("label",{staticClass:"py-3",attrs:{for:"userPhone"}},[e._v("收件人手機*")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required|digits:10",expression:"'required|digits:10'"}],staticClass:"col form-control",class:{"is-invalid":e.errors.has("tel"),inputBorder:!e.errors.has("tel")},attrs:{placeholder:"號碼",type:"tel",onkeyup:"value=value.replace(/[^\\d]/g,'') ",id:"userPhone",name:"tel"},domProps:{value:e.form.user.tel},on:{input:function(t){t.target.composing||e.$set(e.form.user,"tel",t.target.value)}}}),e.errors.has("tel")?r("span",{staticClass:"text-danger mt-2 d-block"},[e._v("請輸入手機10碼")]):e._e()]),r("div",[r("label",{staticClass:"py-3",attrs:{for:"userEmail"}},[e._v("聯絡信箱*")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("email"),inputBorder:!e.errors.has("email")},attrs:{placeholder:"Email",type:"email",id:"userEmail",name:"email"}}),e.errors.has("email")?r("span",{staticClass:"text-danger mt-2 d-block"},[e._v("請輸入正確格式Email")]):e._e()]),r("div",[r("label",{staticClass:"py-3"},[e._v("運送方式*")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.user.ship,expression:"form.user.ship"}],staticClass:"form-control",attrs:{id:"ship"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.user,"ship",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"home"}},[e._v("宅配到府")]),r("option",{attrs:{value:"fm"}},[e._v("全家門市取貨服務")]),r("option",{attrs:{value:"711"}},[e._v("7-11門市取貨服務")])])]),r("div",["home"===e.form.user.ship?r("div",[r("label",{staticClass:"py-3",attrs:{for:"address"}},[e._v("收件人地址*")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("address"),inputBorder:!e.errors.has("address")},attrs:{id:"address",name:"address",type:"text",placeholder:"請輸入收件人地址"},domProps:{value:e.form.user.address},on:{input:function(t){t.target.composing||e.$set(e.form.user,"address",t.target.value)}}})]):e._e(),"fm"===e.form.user.ship?r("div",[r("label",{staticClass:"py-3",attrs:{for:"address"}},[e._v("全家超商門市*")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("address"),inputBorder:!e.errors.has("address")},attrs:{id:"address",name:"address",type:"text",placeholder:"全家門市地址"},domProps:{value:e.form.user.address},on:{input:function(t){t.target.composing||e.$set(e.form.user,"address",t.target.value)}}})]):e._e(),"711"===e.form.user.ship?r("div",[r("label",{staticClass:"py-3",attrs:{for:"address"}},[e._v("711超商門市*")]),r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:{"is-invalid":e.errors.has("address"),inputBorder:!e.errors.has("address")},attrs:{id:"address",name:"address",type:"text",placeholder:"711門市地址"},domProps:{value:e.form.user.address},on:{input:function(t){t.target.composing||e.$set(e.form.user,"address",t.target.value)}}})]):e._e(),e.errors.has("address")?r("span",{staticClass:"text-danger mt-2 d-block"},[e._v("請輸入正確地址")]):e._e()]),r("div",[r("label",{staticClass:"py-3"},[e._v("付款方式*")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.user.payMethod,expression:"form.user.payMethod"}],staticClass:"form-control",attrs:{id:"payMethod"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.user,"payMethod",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"delivery"}},[e._v("貨到付款")]),r("option",{attrs:{value:"credit"}},[e._v("信用卡付款")])])]),"credit"===e.form.user.payMethod?r("div",[r("div",{staticClass:"row align-items-center"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"py-2"},[r("label",{staticClass:"pb-2 col px-0",attrs:{for:""}},[e._v("信用卡卡號*")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.card.number,expression:"form.user.card.number"}],staticClass:"col",class:{"form-control is-invalid":!e.isCardNumber,inputBorder:e.isCardNumber},attrs:{type:"text",placeholder:"請輸入十六位數值之信用卡卡號",name:"",maxlength:"16"},domProps:{value:e.form.user.card.number},on:{focus:function(t){t.preventDefault(),e.isFlipped=!0},input:[function(t){t.target.composing||e.$set(e.form.user.card,"number",t.target.value)},function(t){return t.preventDefault(),e.inputCardNumner()}],change:function(t){return t.preventDefault(),e.checkCardNumber()}}}),e.isCardNumber?e._e():r("div",{staticClass:"text-danger mt-2 d-block"},[e._v("請輸入正確信用卡卡號")])]),r("div",{staticClass:"py-2"},[r("label",{staticClass:"pb-2 col px-0",attrs:{for:""}},[e._v("卡片到期日*")]),r("div",{staticClass:"row px-3"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.user.card.date.month,expression:"form.user.card.date.month"}],staticClass:"form-control col mr-1",class:{borderErr:!e.isCardMonth},on:{focus:function(t){t.preventDefault(),e.isFlipped=!0},change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.user.card.date,"month",t.target.multiple?r:r[0])},function(t){return t.preventDefault(),e.checkCardMonth()}]}},[r("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("月份")]),r("option",{attrs:{value:"01"}},[e._v("一月")]),r("option",{attrs:{value:"02"}},[e._v("二月")]),r("option",{attrs:{value:"03"}},[e._v("三月")]),r("option",{attrs:{value:"04"}},[e._v("四月")]),r("option",{attrs:{value:"05"}},[e._v("五月")]),r("option",{attrs:{value:"06"}},[e._v("六月")]),r("option",{attrs:{value:"07"}},[e._v("七月")]),r("option",{attrs:{value:"08"}},[e._v("八月")]),r("option",{attrs:{value:"09"}},[e._v("九月")]),r("option",{attrs:{value:"10"}},[e._v("十月")]),r("option",{attrs:{value:"11"}},[e._v("十一月")]),r("option",{attrs:{value:"12"}},[e._v("十二月")])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.user.card.date.year,expression:"form.user.card.date.year"}],staticClass:"form-control col",class:{borderErr:!e.isCardYear},on:{focus:function(t){t.preventDefault(),e.isFlipped=!0},change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form.user.card.date,"year",t.target.multiple?r:r[0])},function(t){return t.preventDefault(),e.checkCardYear()}]}},[r("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("年分")]),e._l(15,(function(t,a){return r("option",{key:a,domProps:{value:2018+t}},[e._v(e._s(2018+t))])}))],2)]),e.isCardMonth&&e.isCardYear?e._e():r("div",{staticClass:"text-danger mt-2 d-block"},[e._v("請選擇卡片到期日")])]),r("div",{staticClass:"py-2"},[r("label",{staticClass:"pb-2 col px-0",attrs:{for:""}},[e._v("卡片檢查碼*")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user.card.ccv,expression:"form.user.card.ccv"}],staticClass:"col",class:{"form-control is-invalid":!e.isCardCcv,inputBorder:e.isCardCcv},attrs:{type:"text",placeholder:"卡片背面後三碼",maxlength:"3"},domProps:{value:e.form.user.card.ccv},on:{focus:function(t){t.preventDefault(),e.isFlipped=!1},input:[function(t){t.target.composing||e.$set(e.form.user.card,"ccv",t.target.value)},function(t){return t.preventDefault(),e.inputCardCcv()}],change:function(t){return t.preventDefault(),e.checkCardCcv()}}}),e.isCardCcv?e._e():r("div",{staticClass:"text-danger mt-2 d-block"},[e._v("請輸入正確檢查碼")])])]),r("div",{staticClass:"col-12"},[r("div",{staticClass:"indexCard",class:{rotateBack:!1===e.isFlipped}},[r("div",{staticClass:"cardFront"},[r("div",{staticClass:"number"},[e._v(e._s(e.form.user.card.number.replace(/(\d{4}-?)(\d{4}-?)(\d{4}-?)(\d{4})/g,"$1-$2-$3-$4")))]),r("div",{staticClass:"date"},[e._v(e._s(e.form.user.card.date.month)+"/"+e._s(e.form.user.card.date.year))]),r("img",{staticClass:"pt-3",attrs:{src:e.card,alt:"信用卡"}})]),r("div",{staticClass:"cardBack"},[r("div",{staticClass:"ccv"},[e._v(e._s(e.form.user.card.ccv))]),r("img",{staticClass:"pt-3",attrs:{src:e.cardBg,alt:"信用卡"}})])])])])]):e._e()]),e._m(0),r("button",{staticClass:"CheckOut mb-4"},[e._v("前往結帳")])])]):r("div",{staticClass:"main mb-3 mx-auto py-3 col-10"},[r("router-link",{staticClass:"text-center h5 m-0 d-block",attrs:{to:"shop/all"}},[e._v("點我前往購物")])],1)])],1)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mainInfo my-3 col-12 col-md"},[r("label",{staticClass:"py-3",attrs:{for:"comment"}},[e._v("備註")]),r("textarea",{staticClass:"col-12 mt-1",attrs:{id:"comment"}})])}],o=(r("a4d3"),r("99af"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("ac1f"),r("5319"),r("159b"),r("ade3")),i=r("9352"),c=r.p+"img/card_bg.7745a583.png",n=r.p+"img/card_back_bg.cd4bf13c.png",l=r("2f62");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={components:{CheckSchedule:i["a"]},data:function(){return{card:c,cardBg:n,isFlipped:!0,isCardNumber:Boolean,isCardMonth:Boolean,isCardYear:Boolean,isCardCcv:Boolean,form:{user:{name:"",tel:"",email:"",ship:"home",address:"",payMethod:"credit",card:{number:"",date:{month:"",year:""},ccv:""},nowDate:""},message:""}}},methods:u({},Object(l["b"])("cartsModules",["getCart"]),{inputCardNumner:function(){var e=this;e.form.user.card.number=e.form.user.card.number.replace(/[a-z\W]/gi,""),e.checkCardNumber()},checkCardNumber:function(){var e=this;e.isCardNumber=!1,/^[0-9]{16}$/g.test(e.form.user.card.number)&&(e.isCardNumber=!0)},checkCardMonth:function(){var e=this;""!==e.form.user.card.date.month&&(e.isCardMonth=!0)},checkCardYear:function(){var e=this;""!==e.form.user.card.date.year&&(e.isCardYear=!0)},inputCardCcv:function(){var e=this;e.form.user.card.ccv=e.form.user.card.ccv.replace(/[a-z\W]/gi,""),e.checkCardCcv()},checkCardCcv:function(){var e=this;e.isCardCcv=!1,/^[0-9]{3}$/g.test(e.form.user.card.ccv)&&(e.isCardCcv=!0)},createOrder:function(){var e=this,t="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/order"),r=e.form,a=new Date,s=a.getFullYear(),o=a.getMonth(),i=a.getDate();e.form.user.nowDate="".concat(s,"/").concat(o+1,"/").concat(i),e.$store.dispatch("updateLoading",!0),"credit"===e.form.user.payMethod&&(/^[0-9]{16}$/g.test(e.form.user.card.number)||(e.isCardNumber=!1),""===e.form.user.card.date.month&&(e.isCardMonth=!1),""===e.form.user.card.date.year&&(e.isCardYear=!1),/^[0-9]{3}$/g.test(e.form.user.card.ccv)||(e.isCardCcv=!1)),e.$validator.validate().then((function(a){a?e.$http.post(t,{data:r}).then((function(t){t.data.success?e.$router.push("/confirm/".concat(t.data.orderId)):alert(t.data.message),e.$store.dispatch("updateLoading",!1)})):(window.scrollTo({top:0,behavior:"smooth"}),e.$store.dispatch("updateLoading",!1))}))}}),computed:u({},Object(l["c"])(["isLoading"]),{},Object(l["c"])("cartsModules",["cart","carts"])),created:function(){var e=this;e.getCart()},mounted:function(){document.querySelector(".checkInfo").style="border:3px solid #8d3742",document.querySelector(".checkInfo>i").style="color:#8d3742",document.querySelector(".checkInfo>p").style="color:#8d3742",document.querySelector(".checkSchedule>span").classList.add("scheduleInfoAnimation")}},v=m,p=(r("9ab4"),r("2877")),f=Object(p["a"])(v,a,s,!1,null,null,null);t["default"]=f.exports},"9ab4":function(e,t,r){"use strict";var a=r("4f80"),s=r.n(a);s.a}}]);
//# sourceMappingURL=chunk-9f1b8222.cd758fdf.js.map