(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dbefa7e"],{"4ab5":function(t,s,e){"use strict";var c=e("aa9f"),a=e.n(c);a.a},"5aa7":function(t,s,e){"use strict";e.r(s);var c=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),e("CheckSchedule"),e("form",{on:{submit:function(s){return s.preventDefault(),t.paying(s)}}},[e("div",{staticClass:"mx-auto mb-4 col col-sm-8"},[e("div",{attrs:{id:"Confirm"}},[e("div",{staticClass:"row p-2 py-md-4"},[e("span",{staticClass:"col-12 col-md-6 pb-2 pb-md-0"},[e("p",[t._v("訂購人:"+t._s(t.order.user.name))])]),e("span",{staticClass:"col-12 col-md-6 text-md-right"},[e("p",[t._v("訂購日期:"+t._s(t.order.user.nowDate))])])]),e("div",{staticClass:"product py-2"},[t._m(0),t._l(t.order.products,(function(s,c){return e("div",{key:c,staticClass:"row text-center p-2"},[e("p",{staticClass:"col text-left"},[t._v(t._s(s.product.title))]),e("p",{staticClass:"col"},[t._v(t._s(s.qty)+"/件")]),e("p",{staticClass:"col text-right"},[t._v(t._s(t._f("currency")(s.product.price)))])])}))],2),e("div",{staticClass:"info py-2"},[e("div",{staticClass:"row text-center p-2"},[e("p",{staticClass:"col text-left"},[t._v("收件人姓名 :")]),e("p",{staticClass:"col mobNone"}),e("p",{staticClass:"col text-right"},[t._v(t._s(t.order.user.name))])]),e("div",{staticClass:"row text-center p-2"},[e("p",{staticClass:"col text-left"},[t._v("收件人電話 :")]),e("p",{staticClass:"col mobNone"}),e("p",{staticClass:"col text-right"},[t._v(t._s(t.order.user.tel))])]),e("div",{staticClass:"row text-center p-2"},[e("p",{staticClass:"col text-left"},[t._v("收件地址 :")]),e("p",{staticClass:"col mobNone"}),e("p",{staticClass:"col text-right"},[t._v(t._s(t.order.user.address))])]),e("div",{staticClass:"row text-center p-2"},[e("p",{staticClass:"col text-left"},[t._v("收件人信箱 :")]),e("p",{staticClass:"col mobNone"}),e("p",{staticClass:"col text-right"},[t._v(t._s(t.order.user.email))])])]),e("div",{staticClass:"total py-2"},[e("div",{staticClass:"row text-center p-2"},[e("p",{staticClass:"col text-left"},[t._v("總價")]),e("p",{staticClass:"col mobNone"}),e("p",{staticClass:"col text-right"},[t._v(t._s(t._f("currency")(t.order.total)))])]),t._m(1),e("div",{staticClass:"row text-center p-2"},[e("p",{staticClass:"col text-left"},[t._v("小計")]),e("p",{staticClass:"col mobNone"}),e("p",{staticClass:"col text-right"},[t._v(t._s(t._f("currency")(t.order.total+80)))])])]),e("div",{staticClass:"pt-3"},[e("p",{staticClass:"d-inline"},[t._v("訂單編號 :")]),e("p",{staticClass:"d-inline-block px-2"},[t._v(t._s(t.orderId))])]),e("div",{staticClass:"pt-2",class:{"text-danger":!1===t.order.is_paid,"text-success":t.order.is_paid}},[e("p",{staticClass:"d-inline"},[t._v("付款狀態 :")]),t.order.is_paid?e("p",{staticClass:"d-inline px-2"},[t._v("完成付款")]):e("p",{staticClass:"d-inline px-2"},[t._v("尚未付款")])]),e("button",{staticClass:"paying",class:{active:!1===t.order.is_paid,active:t.order.is_paid}},[e("span",{staticClass:"box"},[t.order.is_paid?e("i",{staticClass:"fa fa-check"}):t._e()]),!0===t.order.is_paid?e("p",[t._v("結帳完成")]):e("p",[t._v("點擊付款")])])])])]),!0===t.isAlert?e("div",{attrs:{id:"checkOutAlert"},on:{click:function(s){s.preventDefault(),t.isAlert=!1}}},[e("div",{staticClass:"info"},[e("span",{staticClass:"text-success"},[t.isIcon?e("i",{staticClass:"fa fa-check-circle-o"}):e("i",{staticClass:"fa fa-spinner fa-spin text-dark"})]),e("p",[t._v("感謝您購買凱力的產品,我們將儘速為您出貨")]),e("span",{staticClass:"count"},[t._v(t._s(t.num)+"%")]),e("router-link",{staticClass:"d-block",attrs:{tag:"button",to:"/shop/all"}},[t._v("繼續購物")]),e("button",{staticClass:"d-block",on:{click:function(s){s.preventDefault(),t.isAlert=!1}}},[t._v("查看清單")])],1)]):t._e()],1)},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row text-center p-2"},[e("p",{staticClass:"col text-secondary text-left"},[t._v("項目")]),e("p",{staticClass:"col text-secondary"},[t._v("數量")]),e("p",{staticClass:"col text-secondary text-right"},[t._v("單價")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row text-center p-2"},[e("p",{staticClass:"col text-left"},[t._v("運費")]),e("p",{staticClass:"col mobNone"}),e("p",{staticClass:"col text-right"},[t._v("$80")])])}],i=(e("99af"),e("9352")),o={components:{CheckSchedule:i["a"]},data:function(){return{isLoading:!1,payingCheck:!0,isAlert:!1,isIcon:!1,num:0,order:{user:{}},orderId:""}},methods:{getOrder:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/order/").concat(t.orderId);t.isLoading=!0,t.$http.get(s).then((function(s){t.order=s.data.order,t.isLoading=!1,t.payingCheck=!t.order.is_paid}))},paying:function(){var t=this;if(t.payingCheck){var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/pay/").concat(t.orderId);t.isLoading=!0,t.$http.post(s).then((function(s){s.data.success&&t.getOrder()})),document.querySelector(".paying").classList.add("active"),t.isLoading=!1,t.payingCheck=!1}setTimeout((function(){t.isAlert=!0,t.countFn()}),1e3)},countFn:function(){var t=this;if(100===t.num)return!1;var s=setInterval((function(e){var c=document.querySelector(".count");!0===t.isAlert?(c.innerHTML="".concat(t.num+1)+"%",t.num++,100===t.num&&(clearInterval(s),setTimeout((function(){c.classList.add("countStyle"),t.isIcon=!0}),600))):(t.isIcon=!1,clearInterval(s))}),10)}},created:function(){var t=this;t.orderId=this.$route.params.orderId,t.getOrder()},mounted:function(){document.querySelector(".checkOut").style="border:3px solid #8d3742;",document.querySelector(".checkOut>i").style="color:#8d3742;",document.querySelector(".checkOut>p").style="color:#8d3742;",document.querySelector(".checkInfo").style="border:3px solid #8d3742;",document.querySelector(".checkInfo>i").style="color:#8d3742;",document.querySelector(".checkInfo>p").style="color:#8d3742;",document.querySelector(".checkSchedule>span").classList.add("scheduleConfirmAnimation")}},r=o,n=(e("9576"),e("2877")),l=Object(n["a"])(r,c,a,!1,null,null,null);s["default"]=l.exports},8418:function(t,s,e){"use strict";var c=e("c04e"),a=e("9bf2"),i=e("5c6c");t.exports=function(t,s,e){var o=c(s);o in t?a.f(t,o,i(0,e)):t[o]=e}},9352:function(t,s,e){"use strict";var c=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"row w-100 m-auto pt150"},[e("div",{staticClass:"col-sm-8 col-10 m-auto",staticStyle:{height:"140px"}},[e("div",{staticClass:"checkSchedule"},[e("span"),e("div",{staticClass:"checkProduct"},[e("i",{staticClass:"fa fa-shopping-cart"}),e("p",[t._v("確認購物車")])]),e("div",{staticClass:"checkInfo"},[e("i",{staticClass:"fa fa-edit"}),e("p",[t._v("填寫資料")])]),e("div",{staticClass:"checkOut"},[e("i",{staticClass:"fa fa-check-square-o"}),e("p",[t._v("確認結帳")])])])])])])}],i={name:"CheckSchedule",data:function(){return{}}},o=i,r=(e("4ab5"),e("2877")),n=Object(r["a"])(o,c,a,!1,null,null,null);s["a"]=n.exports},9576:function(t,s,e){"use strict";var c=e("ea75"),a=e.n(c);a.a},"99af":function(t,s,e){"use strict";var c=e("23e7"),a=e("d039"),i=e("e8b5"),o=e("861d"),r=e("7b0b"),n=e("50c4"),l=e("8418"),d=e("65f0"),u=e("1dde"),p=e("b622"),v=e("2d00"),f=p("isConcatSpreadable"),C=9007199254740991,_="Maximum allowed index exceeded",h=v>=51||!a((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),m=u("concat"),x=function(t){if(!o(t))return!1;var s=t[f];return void 0!==s?!!s:i(t)},y=!h||!m;c({target:"Array",proto:!0,forced:y},{concat:function(t){var s,e,c,a,i,o=r(this),u=d(o,0),p=0;for(s=-1,c=arguments.length;s<c;s++)if(i=-1===s?o:arguments[s],x(i)){if(a=n(i.length),p+a>C)throw TypeError(_);for(e=0;e<a;e++,p++)e in i&&l(u,p,i[e])}else{if(p>=C)throw TypeError(_);l(u,p++,i)}return u.length=p,u}})},aa9f:function(t,s,e){},ea75:function(t,s,e){}}]);
//# sourceMappingURL=chunk-5dbefa7e.3d108558.js.map