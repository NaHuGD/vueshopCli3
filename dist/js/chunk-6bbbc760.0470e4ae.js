(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bbbc760"],{"0fd1":function(t,e,c){"use strict";e["a"]=c.p+"img/barcode.eeb8dcfa.jpg"},3740:function(t,e,c){},"4ab5":function(t,e,c){"use strict";var s=c("aa9f"),a=c.n(s);a.a},"752c":function(t,e,c){"use strict";c.r(e);var s=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",[c("CheckSchedule"),c("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),""!=t.CartItem.carts?c("div",{staticClass:"main row col-10 py-3",attrs:{id:"checkProduct"}},[c("div",{staticClass:"col-md-8 p-0 pr-md-3"},[t._m(0),t._l(t.CartItem.carts,(function(e,s){return c("table",{key:s,staticClass:"bagInfo",class:{sale:t.couponSuccess}},[c("tr",{staticClass:"row"},[c("td",{staticClass:"col-sm-2 col-3 w-100 pr-0"},[c("img",{staticClass:"col-12 p-0",attrs:{src:e.product.imageUrl,alt:e.product.title}}),c("p",{staticClass:"col-12 p-0"},[t._v(t._s(e.product.title))])]),c("td",{staticClass:"col-sm col-2 text-center"},[t._v(t._s(e.size))]),c("td",{staticClass:"col-sm col-2 text-center"},[t._v(" "+t._s(e.qty)+" ")]),c("td",{staticClass:"col-sm col-3 text-center"},[t._v(t._s(t._f("currency")(e.product.price)))]),c("td",{staticClass:"col-sm col-2 text-center",on:{click:function(c){return c.preventDefault(),t.cartItemDelete(e)}}},[t._m(1,!0)])])])}))],2),c("div",{staticClass:"priceInfo col-md-4 py-3"},[t._m(2),c("table",{staticClass:"w-100"},[c("tr",[c("th",{staticClass:"pb-4"},[t._v("小計")]),c("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.CartItem.total)))])]),t.couponSuccess?c("tr",{staticClass:"text-success"},[c("th",{staticClass:"pb-4"},[t._v("折扣價")]),c("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.CartItem.final_total)))])]):t._e(),t._m(3)]),c("table",{staticClass:"table"},[c("tr",{staticClass:"pt-4"},[c("th",{staticClass:"pl-0"},[t._v("總計")]),c("td",{staticClass:"text-right pr-0"},[t._v(t._s(t._f("currency")(t.CartItem.final_total+80)))])])]),c("button",{staticClass:"goCheckOut",on:{click:function(e){return e.preventDefault(),t.goCheckOutFn(e)}}},[t._v("下一步")]),c("div",{staticClass:"coupons"},[c("div",{staticClass:"barcode mt-md-4 mt-2"},[c("img",{attrs:{src:t.barcodeImg,alt:"條碼",ondragstart:"return false;"}})]),0==t.couponSuccess?c("div",{staticClass:"row pl-2 couponsInfo"},[c("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"col-11",attrs:{type:"text",placeholder:"輸入折扣碼"},domProps:{value:t.coupon_code},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addCoupons()},input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}}),c("button",{staticClass:"applyCoupons col-1",on:{click:function(e){return e.preventDefault(),t.addCoupons()}}},[c("i",{staticClass:"fa fa-arrow-right"})])]):t._e(),1==t.couponSuccess?c("p",{staticClass:"couponCode text-center px-5"},[t._v(t._s(t.coupon_code))]):t._e(),c("span",[1==t.couponSuccess?c("p",{staticClass:"text-success text-center pt-2"},[t._v("已套用優惠券!")]):t._e(),"找不到優惠券!"==t.couponMessage|"優惠券無法使用"==t.couponMessage?c("p",{staticClass:"text-danger text-center pt-2"},[t._v("優惠券輸入錯誤")]):t._e()])])])]):c("div",{staticClass:"main pb-2 col-10"},[c("p",{staticClass:"text-center h5"},[t._v("您的購物車目前是空的!!")])])],1)},a=[function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("table",{staticClass:"bagTitle"},[c("tr",{staticClass:"row"},[c("th",[t._v("品名")]),c("th",[t._v("尺寸/口味")]),c("th",[t._v("數量")]),c("th",[t._v("單價")]),c("th",[t._v("刪除")])])])},function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("button",[c("i",{staticClass:"fa fa-times"})])},function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("table",{staticClass:"title"},[c("thead",[c("th",{staticClass:"pb-5"},[t._v("Summary")])])])},function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("tr",[c("th",{staticClass:"pb-4"},[t._v("運費")]),c("td",{staticClass:"text-right"},[t._v("$80")])])}],o=(c("99af"),c("9352")),n=c("0fd1"),i={components:{CheckSchedule:o["a"]},data:function(){return{barcodeImg:n["a"],isLoading:!1,CartItem:{},coupon_code:"",couponSuccess:"",couponMessage:""}},methods:{getCart:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/cart");t.isLoading=!0,t.$http.get(e).then((function(e){t.$bus.$emit("cartitem:push",e.data.data),t.isLoading=!1}))},getCartItem:function(t){var e=this;e.CartItem=t},cartItemDelete:function(t){var e=this;e.isLoading=!0;var c="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/cart/").concat(t.id);e.$http.delete(c).then((function(t){e.getCart(),e.isLoading=!1}))},addCoupons:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/coupon"),c={code:t.coupon_code};t.isLoading=!0,t.$http.post(e,{data:c}).then((function(e){t.couponSuccess=e.data.success,t.couponMessage=e.data.message,t.getCart(),t.isLoading=!1}))},goCheckOutFn:function(){var t=this;t.$router.push("/checkInfo"),window.scrollTo({top:0,behavior:"smooth"})}},created:function(){var t=this;t.getCart(),t.$bus.$on("cartitem:push",(function(e){t.getCartItem(e)}))}},r=i,l=(c("7c42"),c("2877")),u=Object(l["a"])(r,s,a,!1,null,"7df0b5c1",null);e["default"]=u.exports},"7c42":function(t,e,c){"use strict";var s=c("3740"),a=c.n(s);a.a},8418:function(t,e,c){"use strict";var s=c("c04e"),a=c("9bf2"),o=c("5c6c");t.exports=function(t,e,c){var n=s(e);n in t?a.f(t,n,o(0,c)):t[n]=c}},9352:function(t,e,c){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",[c("div",{staticClass:"row w-100 m-auto pt150"},[c("div",{staticClass:"col-sm-8 col-10 m-auto",staticStyle:{height:"140px"}},[c("div",{staticClass:"checkSchedule"},[c("span"),c("div",{staticClass:"checkProduct"},[c("i",{staticClass:"fa fa-shopping-cart"}),c("p",[t._v("確認購物車")])]),c("div",{staticClass:"checkInfo"},[c("i",{staticClass:"fa fa-edit"}),c("p",[t._v("填寫資料")])]),c("div",{staticClass:"checkOut"},[c("i",{staticClass:"fa fa-check-square-o"}),c("p",[t._v("確認結帳")])])])])])])}],o={name:"CheckSchedule",data:function(){return{}}},n=o,i=(c("4ab5"),c("2877")),r=Object(i["a"])(n,s,a,!1,null,null,null);e["a"]=r.exports},"99af":function(t,e,c){"use strict";var s=c("23e7"),a=c("d039"),o=c("e8b5"),n=c("861d"),i=c("7b0b"),r=c("50c4"),l=c("8418"),u=c("65f0"),p=c("1dde"),d=c("b622"),f=c("2d00"),v=d("isConcatSpreadable"),h=9007199254740991,C="Maximum allowed index exceeded",_=f>=51||!a((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),m=p("concat"),g=function(t){if(!n(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)},b=!_||!m;s({target:"Array",proto:!0,forced:b},{concat:function(t){var e,c,s,a,o,n=i(this),p=u(n,0),d=0;for(e=-1,s=arguments.length;e<s;e++)if(o=-1===e?n:arguments[e],g(o)){if(a=r(o.length),d+a>h)throw TypeError(C);for(c=0;c<a;c++,d++)c in o&&l(p,d,o[c])}else{if(d>=h)throw TypeError(C);l(p,d++,o)}return p.length=d,p}})},aa9f:function(t,e,c){}}]);
//# sourceMappingURL=chunk-6bbbc760.0470e4ae.js.map