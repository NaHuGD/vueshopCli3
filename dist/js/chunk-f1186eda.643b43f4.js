(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f1186eda"],{"0dc0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shopInside pt100"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",[a("div",[a("ul",{staticClass:"navColumn"},[a("router-link",{staticClass:"title pointer",attrs:{tag:"li",to:"/shop"}},[t._v("商品列表")]),a("li",{staticClass:"title pointer",on:{click:t.back}},[t._v(t._s(t.product.category))]),a("li",{staticClass:"title"},[t._v(t._s(t.product.title))])],1)]),a("div",{staticClass:"row mb-5 mt-4 align-items-center"},[a("div",{staticClass:"col-md-6"},[a("img",{attrs:{src:t.product.imageUrl,alt:t.product.title}}),a("span",{staticClass:"like"},[t.getIfLocalData(t.product)?a("i",{staticClass:"fa fa-heart text-danger",on:{click:function(e){return e.stopPropagation(),t.removeLike(t.product)}}}):a("i",{staticClass:"fa fa-heart-o text-dark",on:{click:function(e){return e.stopPropagation(),t.addLike(t.product)}}})])]),a("div",{staticClass:"shopInside_info col-md-6 col-xl-4"},[a("div",[a("h2",{staticClass:"h2 mb-3 mt-xl-0"},[t._v(t._s(t.product.title))]),a("span",[t._v("購買數量:")]),a("div",{staticClass:"row"},[a("div",{staticClass:"addSize mt-2 col-6"},["護具"!==t.product.category?a("select",{staticClass:"form-control",class:{redBorder:t.isSize},attrs:{id:"tasteValue"},on:{change:function(e){return e.preventDefault(),t.tasteValue(e)}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("口味")]),a("option",{attrs:{value:"草莓"}},[t._v("草莓")]),a("option",{attrs:{value:"巧克力"}},[t._v("巧克力")]),a("option",{attrs:{value:"香草"}},[t._v("香草")])]):a("select",{staticClass:"form-control",class:{redBorder:t.isSize},attrs:{id:"protectiveValue"},on:{change:function(e){return e.preventDefault(),t.protectiveValue(e)}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("尺寸")]),a("option",{attrs:{value:"L"}},[t._v("L")]),a("option",{attrs:{value:"M"}},[t._v("M")]),a("option",{attrs:{value:"S"}},[t._v("S")])])]),a("div",{staticClass:"addNumber mt-2 col-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],staticClass:"form-control",attrs:{name:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.num=e.target.multiple?a:a[0]}}},t._l(10,(function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e))])})),0)])]),a("p",{staticClass:"h3 pt-2 pb-2 mb-4"},[t._v("NT."+t._s(t.product.price))])]),0===t.product.in_stock?a("div",{staticClass:"text-danger text-center"},[t._v("商品已售完")]):a("div",{staticClass:"addShop text-center"},[a("button",{staticClass:"col-5",on:{click:function(e){return e.preventDefault(),t.addtoCart(t.product.id,t.num)}}},[t._v("加入購物車")]),a("span",{staticClass:"col"}),a("button",{staticClass:"col-5",on:{click:function(e){return e.preventDefault(),t.buyNow(t.product.id)}}},[t._v("直接購買")])]),a("h6",{staticClass:"h5 pt-4"},[t._v("商品描述:")]),a("ul",{staticClass:"ml-2"},[a("li",{staticClass:"productWrite mb-3"},[t._v(t._s(t.product.description))])]),a("h6",{staticClass:"h5 mb-3"},[t._v("商品資訊:")]),t._m(0)])]),a("div",{staticClass:"aboutLike"},[t._m(1),a("div",{staticClass:"info row"},t._l(t.moreLook,(function(e,i){return a("div",{key:i,staticClass:"col-6 col-lg-3 mt-4"},[a("div",{on:{click:function(a){return a.preventDefault(),t.goPath(e.id)}}},[a("img",{attrs:{src:e.imageUrl,alt:""}}),a("p",{staticClass:"text-left py-2"},[t._v(t._s(e.title))]),a("p",{staticClass:"text-left"},[t._v("NT."+t._s(e.price))])])])})),0)])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"ml-2"},[a("li",{staticClass:"mb-3"},[t._v("實品顏色依照片為主")]),a("li",{staticClass:"mb-3"},[t._v("厚薄:適中")]),a("li",{staticClass:"mb-3"},[t._v("彈性:佳")]),a("li",{staticClass:"mb-3"},[t._v("素材產地 / 中國")]),a("li",{staticClass:"mb-3"},[t._v("加工產地 / 中國")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"h2 mb-3 text-center"},[a("span",[t._v("MORE LOOK")])])}],o=(a("99af"),a("4de4"),a("c740"),a("45fc"),a("a434"),{data:function(){return{isLoading:!1,isSize:!1,itemId:"",products:"",product:"",moreLook:[],num:"1",likeData:[]}},methods:{getProduct:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/products/all");e.isLoading=!0,e.$http.get(a).then((function(a){var i=a.data.products.filter((function(e,a,i){if(e.id!==t)return e}));e.products=i;for(var s=0;s<4;s++){var o=Math.floor(Math.random()*e.products.length);e.moreLook.push(e.products[o]),e.products.splice(o,1)}}));var i="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/product/").concat(t);e.$http.get(i).then((function(t){e.product=t.data.product,e.isLoading=!1}))},goPath:function(t){var e=this;e.$router.push({path:"/shop_inside/".concat(t)}),location.reload()},back:function(t){var e=this;"護具"===e.product.category?e.$router.push({path:"/shop/protective"}):"乳清"===e.product.category&&e.$router.push({path:"/shop/whey"})},tasteValue:function(){var t=this;t.$store.state.cart.carts.size=document.querySelector("#tasteValue").value,t.isSize=!1},protectiveValue:function(){var t=this;t.$store.state.cart.carts.size=document.querySelector("#protectiveValue").value,t.isSize=!1},addtoCart:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/cart");e.isLoading=!0;var i={product_id:t,qty:e.num,size:e.$store.state.cart.carts.size};void 0===e.$store.state.cart.carts.size?(alert("請選擇尺寸/口味"),e.isSize=!0,e.isLoading=!1):e.$http.post(a,{data:i}).then((function(t){e.getCart(),e.$bus.$emit("bagToggle:push",!1),e.isLoading=!1}))},buyNow:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("lovfee","/cart"),i={product_id:t,qty:e.num,size:e.$store.state.cart.carts.size};void 0===e.$store.state.cart.carts.size?(alert("請選擇尺寸/口味"),e.isSize=!0,e.isLoading=!1):(e.$http.post(a,{data:i}).then((function(t){e.getCart()})),e.$router.push("/checkProduct"))},getCart:function(){this.$store.dispatch("getCart")},getLocalData:function(){var t=this;t.likeData=JSON.parse(localStorage.getItem("likeData"))||[]},getIfLocalData:function(t){var e=this;return e.likeData.some((function(e){return t.id===e.id}))},addLike:function(t){var e=this,a={title:t.title,id:t.id};e.likeData.push(a),localStorage.setItem("likeData",JSON.stringify(e.likeData))},removeLike:function(t){var e=this,a=e.likeData.findIndex((function(e){return e.title===t.title}));e.likeData.splice(a,1),localStorage.setItem("likeData",JSON.stringify(e.likeData))}},computed:{},created:function(){var t=this;t.itemId=t.$route.params.itemId,t.getProduct(t.itemId),t.getCart(),t.getLocalData()}}),r=o,c=(a("457e"),a("2877")),n=Object(c["a"])(r,i,s,!1,null,"6ff5dd77",null);e["default"]=n.exports},"457e":function(t,e,a){"use strict";var i=a("522f"),s=a.n(i);s.a},"45fc":function(t,e,a){"use strict";var i=a("23e7"),s=a("b727").some,o=a("a640"),r=a("ae40"),c=o("some"),n=r("some");i({target:"Array",proto:!0,forced:!c||!n},{some:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"522f":function(t,e,a){},a434:function(t,e,a){"use strict";var i=a("23e7"),s=a("23cb"),o=a("a691"),r=a("50c4"),c=a("7b0b"),n=a("65f0"),l=a("8418"),u=a("1dde"),d=a("ae40"),p=u("splice"),v=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!v},{splice:function(t,e){var a,i,u,d,p,v,_=c(this),C=r(_.length),k=s(t,C),b=arguments.length;if(0===b?a=i=0:1===b?(a=0,i=C-k):(a=b-2,i=h(f(o(e),0),C-k)),C+a-i>m)throw TypeError(g);for(u=n(_,i),d=0;d<i;d++)p=k+d,p in _&&l(u,d,_[p]);if(u.length=i,a<i){for(d=k;d<C-i;d++)p=d+i,v=d+a,p in _?_[v]=_[p]:delete _[v];for(d=C;d>C-i+a;d--)delete _[d-1]}else if(a>i)for(d=C-i;d>k;d--)p=d+i-1,v=d+a-1,p in _?_[v]=_[p]:delete _[v];for(d=0;d<a;d++)_[d+k]=arguments[d+2];return _.length=C-i+a,u}})},c740:function(t,e,a){"use strict";var i=a("23e7"),s=a("b727").findIndex,o=a("44d2"),r=a("ae40"),c="findIndex",n=!0,l=r(c);c in[]&&Array(1)[c]((function(){n=!1})),i({target:"Array",proto:!0,forced:n||!l},{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),o(c)}}]);
//# sourceMappingURL=chunk-f1186eda.643b43f4.js.map